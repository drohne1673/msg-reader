<!DOCTYPE composition PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:p="http://primefaces.org/ui"
                template="/WEB-INF/layouts/standard.xhtml">

    <ui:define name="title">Mail-Parser sample</ui:define>

    <ui:define name="content">
        <h:form>
            <p:fieldset legend="Mail Details">
                <h:panelGroup layout="block" styleClass="success" rendered="${not empty parsedMail}">
<!--                    <h:outputLabel for="email">Email items: </h:outputLabel>-->
<!--                    <h:outputText id="email" value="${parsedMail}"/>-->
                    <h:outputLabel for="headers">Email Headers: </h:outputLabel>
<!--                    <p:dataTable id="headers" var="header" value="#{parsedMail}">-->
<!--                        <p:column headerText="Name">-->
<!--                            <h:outputText value="#{header.name}" />-->
<!--                        </p:column>-->
<!--                        <p:column headerText="Value">-->
<!--                            <h:outputText value="#{header.value}" />-->
<!--                        </p:column>-->
<!--                        <p:column headerText="text">-->
<!--                            <h:outputText value="#{header}" />-->
<!--                        </p:column>-->
<!--                    </p:dataTable>-->
                    <p:dataList id="headers" value="#{parsedMail}" var="headerl" type="ordered">
                        #{headerl.name}, #{headerl.value}
                    </p:dataList>
                </h:panelGroup>
                <p:messages/>
                <p>
                    <h:outputLabel for="mailSource">Mail Input (EML): </h:outputLabel><br/>
                    <h:inputTextarea cols="120" rows="40" id="mailSource" value="#{mailBean.source}" />
<!--                    <p:inputTextarea rows="40" cols="120" id="mailSource" value="#{mailBean.source}" />-->
                </p>
                <p>
                    <p:commandButton value="Parse" action="parse" execute="@form" update="@form"/>&nbsp;
                    <p:commandButton value="Exit" action="exit"/>
                </p>
                <hr/>
            </p:fieldset>
        </h:form>
    </ui:define>

</ui:composition>